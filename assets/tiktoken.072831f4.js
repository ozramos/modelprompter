let S,W,q,M,z,T,j,L,O,R,N,hn=(async()=>{var P="/assets/tiktoken_bg.89b5fa67.wasm",G=async(t={},n)=>{let _;if(n.startsWith("data:")){const r=n.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(r,"base64");else if(typeof atob=="function"){const d=atob(r);i=new Uint8Array(d.length);for(let o=0;o<d.length;o++)i[o]=d.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");_=await WebAssembly.instantiate(i,t)}else{const r=await fetch(n),i=r.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))_=await WebAssembly.instantiateStreaming(r,t);else{const d=await r.arrayBuffer();_=await WebAssembly.instantiate(d,t)}}return _.instance.exports};let e;q=function(n){e=n};const u=new Array(128).fill(void 0);u.push(void 0,null,!0,!1);function h(t){return u[t]}let y=u.length;function H(t){t<132||(u[t]=y,y=t)}function k(t){const n=h(t);return H(t),n}let b=0,x=null;function p(){return(x===null||x.byteLength===0)&&(x=new Uint8Array(e.memory.buffer)),x}const K=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let m=new K("utf-8");const Q=typeof m.encodeInto=="function"?function(t,n){return m.encodeInto(t,n)}:function(t,n){const _=m.encode(t);return n.set(_),{read:t.length,written:_.length}};function g(t,n,_){if(_===void 0){const a=m.encode(t),l=n(a.length);return p().subarray(l,l+a.length).set(a),b=a.length,l}let r=t.length,i=n(r);const d=p();let o=0;for(;o<r;o++){const a=t.charCodeAt(o);if(a>127)break;d[i+o]=a}if(o!==r){o!==0&&(t=t.slice(o)),i=_(i,r,r=o+t.length*3);const a=p().subarray(i+o,i+r);o+=Q(t,a).written}return b=o,i}function V(t){return t==null}let A=null;function s(){return(A===null||A.byteLength===0)&&(A=new Int32Array(e.memory.buffer)),A}const F=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let B=new F("utf-8",{ignoreBOM:!0,fatal:!0});B.decode();function v(t,n){return B.decode(p().subarray(t,t+n))}function w(t){y===u.length&&u.push(u.length+1);const n=y;return y=u[n],u[n]=t,n}let E=null;function C(){return(E===null||E.byteLength===0)&&(E=new Uint32Array(e.memory.buffer)),E}function D(t,n){return C().subarray(t/4,t/4+n)}function X(t,n){const _=n(t.length*1);return p().set(t,_/1),b=t.length,_}function Y(t,n){const _=n(t.length*4);return C().set(t,_/4),b=t.length,_}function I(t,n){return p().subarray(t/1,t/1+n)}N=function(n,_){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const o=e.__wbindgen_add_to_stack_pointer(-16),a=g(n,e.__wbindgen_export_0,e.__wbindgen_export_1),l=b;e.get_encoding(o,a,l,w(_));var r=s()[o/4+0],i=s()[o/4+1],d=s()[o/4+2];if(d)throw k(i);return S.__wrap(r)}finally{e.__wbindgen_add_to_stack_pointer(16)}},R=function(n,_){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const o=e.__wbindgen_add_to_stack_pointer(-16),a=g(n,e.__wbindgen_export_0,e.__wbindgen_export_1),l=b;e.encoding_for_model(o,a,l,w(_));var r=s()[o/4+0],i=s()[o/4+1],d=s()[o/4+2];if(d)throw k(i);return S.__wrap(r)}finally{e.__wbindgen_add_to_stack_pointer(16)}};function J(t,n){try{return t.apply(this,n)}catch(_){e.__wbindgen_export_3(w(_))}}S=class U{static __wrap(n){const _=Object.create(U.prototype);return _.ptr=n,_}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const n=this.__destroy_into_raw();e.__wbg_tiktoken_free(n)}constructor(n,_,r){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const i=g(n,e.__wbindgen_export_0,e.__wbindgen_export_1),d=b,o=g(r,e.__wbindgen_export_0,e.__wbindgen_export_1),a=b,l=e.tiktoken_new(i,d,w(_),o,a);return U.__wrap(l)}get name(){try{const r=e.__wbindgen_add_to_stack_pointer(-16);e.tiktoken_name(r,this.ptr);var n=s()[r/4+0],_=s()[r/4+1];let i;return n!==0&&(i=v(n,_).slice(),e.__wbindgen_export_2(n,_*1)),i}finally{e.__wbindgen_add_to_stack_pointer(16)}}encode(n,_,r){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const f=e.__wbindgen_add_to_stack_pointer(-16),pn=g(n,e.__wbindgen_export_0,e.__wbindgen_export_1),yn=b;e.tiktoken_encode(f,this.ptr,pn,yn,w(_),w(r));var i=s()[f/4+0],d=s()[f/4+1],o=s()[f/4+2],a=s()[f/4+3];if(a)throw k(o);var l=D(i,d).slice();return e.__wbindgen_export_2(i,d*4),l}finally{e.__wbindgen_add_to_stack_pointer(16)}}encode_ordinary(n){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const d=e.__wbindgen_add_to_stack_pointer(-16),o=g(n,e.__wbindgen_export_0,e.__wbindgen_export_1),a=b;e.tiktoken_encode_ordinary(d,this.ptr,o,a);var _=s()[d/4+0],r=s()[d/4+1],i=D(_,r).slice();return e.__wbindgen_export_2(_,r*4),i}finally{e.__wbindgen_add_to_stack_pointer(16)}}encode_with_unstable(n,_,r){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const a=e.__wbindgen_add_to_stack_pointer(-16),l=g(n,e.__wbindgen_export_0,e.__wbindgen_export_1),f=b;e.tiktoken_encode_with_unstable(a,this.ptr,l,f,w(_),w(r));var i=s()[a/4+0],d=s()[a/4+1],o=s()[a/4+2];if(o)throw k(d);return k(i)}finally{e.__wbindgen_add_to_stack_pointer(16)}}encode_single_token(n){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const _=X(n,e.__wbindgen_export_0),r=b;return e.tiktoken_encode_single_token(this.ptr,_,r)>>>0}decode(n){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const d=e.__wbindgen_add_to_stack_pointer(-16),o=Y(n,e.__wbindgen_export_0),a=b;e.tiktoken_decode(d,this.ptr,o,a);var _=s()[d/4+0],r=s()[d/4+1],i=I(_,r).slice();return e.__wbindgen_export_2(_,r*1),i}finally{e.__wbindgen_add_to_stack_pointer(16)}}decode_single_token_bytes(n){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const d=e.__wbindgen_add_to_stack_pointer(-16);e.tiktoken_decode_single_token_bytes(d,this.ptr,n);var _=s()[d/4+0],r=s()[d/4+1],i=I(_,r).slice();return e.__wbindgen_export_2(_,r*1),i}finally{e.__wbindgen_add_to_stack_pointer(16)}}token_byte_values(){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const n=e.tiktoken_token_byte_values(this.ptr);return k(n)}},j=function(n){k(n)},T=function(n){return h(n)===void 0},M=function(){return J(function(n){const _=JSON.stringify(h(n));return w(_)},arguments)},L=function(n,_){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const r=h(_),i=typeof r=="string"?r:void 0;var d=V(i)?0:g(i,e.__wbindgen_export_0,e.__wbindgen_export_1),o=b;s()[n/4+1]=o,s()[n/4+0]=d},z=function(n,_){const r=new Error(v(n,_));return w(r)},W=function(){return J(function(n,_){const r=JSON.parse(v(n,_));return w(r)},arguments)},O=function(n,_){throw new Error(v(n,_))},URL=globalThis.URL;const c=await G({"./tiktoken_bg.js":{__wbindgen_object_drop_ref:j,__wbindgen_is_undefined:T,__wbg_stringify_029a979dfb73aa17:M,__wbindgen_string_get:L,__wbindgen_error_new:z,__wbg_parse_3ac95b51fc312db8:W,__wbindgen_throw:O}},P),Z=c.memory,$=c.__wbg_tiktoken_free,nn=c.tiktoken_new,en=c.tiktoken_name,tn=c.tiktoken_encode,_n=c.tiktoken_encode_ordinary,rn=c.tiktoken_encode_with_unstable,on=c.tiktoken_encode_single_token,dn=c.tiktoken_decode,an=c.tiktoken_decode_single_token_bytes,sn=c.tiktoken_token_byte_values,cn=c.get_encoding,bn=c.encoding_for_model,ln=c.__wbindgen_export_0,wn=c.__wbindgen_export_1,un=c.__wbindgen_add_to_stack_pointer,gn=c.__wbindgen_export_2,kn=c.__wbindgen_export_3;var fn=Object.freeze(Object.defineProperty({__proto__:null,memory:Z,__wbg_tiktoken_free:$,tiktoken_new:nn,tiktoken_name:en,tiktoken_encode:tn,tiktoken_encode_ordinary:_n,tiktoken_encode_with_unstable:rn,tiktoken_encode_single_token:on,tiktoken_decode:dn,tiktoken_decode_single_token_bytes:an,tiktoken_token_byte_values:sn,get_encoding:cn,encoding_for_model:bn,__wbindgen_export_0:ln,__wbindgen_export_1:wn,__wbindgen_add_to_stack_pointer:un,__wbindgen_export_2:gn,__wbindgen_export_3:kn},Symbol.toStringTag,{value:"Module"}));q(fn)})();export{S as Tiktoken,hn as __tla,W as __wbg_parse_3ac95b51fc312db8,q as __wbg_set_wasm,M as __wbg_stringify_029a979dfb73aa17,z as __wbindgen_error_new,T as __wbindgen_is_undefined,j as __wbindgen_object_drop_ref,L as __wbindgen_string_get,O as __wbindgen_throw,R as encoding_for_model,N as get_encoding};
